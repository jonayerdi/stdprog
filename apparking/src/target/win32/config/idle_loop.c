/*************************************************************************************//**
* @file idle_loop.c
* @brief Implementation of the idle loop for the main thread
* @author Jon Ayerdi
*****************************************************************************************/

/*--------------------------------------------------------------------------------------*/
/*                                       INCLUDES                                       */
/*--------------------------------------------------------------------------------------*/
#include "config/idle_loop.h"

#include "hal/sdl_timer.h"

#include "SDL.h"

/*--------------------------------------------------------------------------------------*/
/*                            PUBLIC FUNCTION DECLARATIONS                              */
/*--------------------------------------------------------------------------------------*/

void idle_loop(void)
{
    SDL_Event event;
    volatile char stop = 0;
    while(!stop)
    {
        while(SDL_PollEvent(&event))
        {
            if(event.type == SDL_QUIT)
            {
                sdl_timer_stop_all();
                stop = 1;
            }
        }
        SDL_Delay(10);
    }
}

/*****************************************************************************************
*                                        idle_loop.c
*****************************************************************************************/
